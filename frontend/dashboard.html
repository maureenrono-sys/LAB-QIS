<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Lab-QIS</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="sidebar">
        <div class="text-center pb-4 border-bottom border-secondary">
            <h4 class="text-white fw-bold">LAB-QIS</h4>
        </div>
        <div class="mt-3">
            <a href="dashboard.html" class="nav-link active">Dashboard</a>
            <a href="departments.html" class="nav-link">Departments</a>
            <a href="qc.html" class="nav-link">Quality Control</a>
            <a href="indicators.html" class="nav-link">Quality Indicators</a>
            <a href="equipment.html" class="nav-link">Equipment Log</a>
            <a href="nc-capa.html" class="nav-link">NC & CAPA</a>
            <a href="documents.html" class="nav-link">Documents</a>
            <a href="audits.html" class="nav-link">SLIPTA Audits</a>
            <a href="analytics.html" class="nav-link">Risk & Analytics</a>
        </div>
    </div>

    <div class="main-content-area">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h3 id="labNameHeading" class="fw-bold text-navy mb-1">Dashboard</h3>
                <p class="text-muted mb-0">Operational overview and quality performance snapshot.</p>
            </div>
            <div class="d-flex align-items-center gap-2">
                <div class="position-relative" onclick="toggleNotifSidebar()" style="cursor:pointer">
                    <span class="fs-5">ðŸ””</span>
                    <span id="notifCount" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"></span>
                </div>
                <button class="btn btn-outline-secondary btn-sm" onclick="logout()">Logout</button>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-12 d-flex justify-content-between align-items-end">
                <h2 id="labNameDisplay" class="text-navy mb-0">Welcome</h2>
                <div id="starBadge"></div>
            </div>
        </div>

        <div id="statsRow" class="row g-3"></div>

        <div id="contentArea" class="mt-4 p-4 bg-white rounded shadow-sm min-vh-100">
            <div class="text-center text-muted py-5">
                <h4>Laboratory Quality Information System</h4>
                <p>Lab-QIS is a Quality Intelligence System for clinical laboratories that turns raw lab data into compliance-ready insights. It provides real-time monitoring of quality indicators, turnaround times, and non-conformities/CAPA, with dashboards and departmental views aligned to ISO 15189:2022.</p>
            </div>
        </div>
    </div>

    <div id="notifSidebar" class="bg-light shadow" style="position: fixed; top: 0; right: -400px; width: 400px; height: 100vh; transition: 0.3s; overflow-y: auto;">
        <div class="p-3 border-bottom d-flex justify-content-between align-items-center bg-dark text-white">
            <h5 class="m-0">Notifications</h5>
            <button class="btn-close btn-close-white" onclick="toggleNotifSidebar()"></button>
        </div>
        <div id="notifList" class="p-2"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
</body>
</html>
